{"version":3,"sources":["src/server/runtime/AppsEngineRuntime.ts"],"names":[],"mappings":";;;AAEa,QAAA,mCAAmC,GAAG,IAAI,CAAC;AAE3C,QAAA,+BAA+B,GAAG,kBAAkB,CAAC;AAElE,SAAgB,iBAAiB,CAAC,QAAgB;IAC9C,OAAO,GAAI,uCAAgC,IAAK,QAAS,EAAE,CAAC;AAChE,CAAC;AAFD,8CAEC;AAED,MAAsB,iBAAiB;IAC5B,MAAM,CAAC,OAAO,CAAC,IAAY,EAAE,OAA6B,EAAE,OAAmC;QAClG,MAAM,IAAI,KAAK,CAAC,kFAAkF,CAAC,CAAC;IACxG,CAAC;IACD,YAAY,GAAQ,EAAE,aAAsC,IAAG,CAAC;CAEnE;AAND,8CAMC","file":"AppsEngineRuntime.js","sourcesContent":["import { App } from '../../definition/App';\n\nexport const APPS_ENGINE_RUNTIME_DEFAULT_TIMEOUT = 1000;\n\nexport const APPS_ENGINE_RUNTIME_FILE_PREFIX = '$RocketChat_App$';\n\nexport function getFilenameForApp(filename: string): string {\n    return `${ APPS_ENGINE_RUNTIME_FILE_PREFIX }_${ filename }`;\n}\n\nexport abstract class AppsEngineRuntime {\n    public static runCode(code: string, sandbox?: Record<string, any>, options?: IAppsEngineRuntimeOptions): any {\n        throw new Error(`Can't call this method on abstract class. Override it in a proper runtime class.`);\n    }\n    constructor(app: App, customRequire: (module: string) => any) {}\n    public abstract runInSandbox(code: string, sandbox?: Record<string, any>, options?: IAppsEngineRuntimeOptions): Promise<any>;\n}\n\nexport interface IAppsEngineRuntimeOptions {\n    timeout?: number;\n    filename?: string;\n    returnAllExports?: boolean;\n}\n"]}